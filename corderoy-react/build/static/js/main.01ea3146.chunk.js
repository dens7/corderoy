(this["webpackJsonpcorderoy-react"]=this["webpackJsonpcorderoy-react"]||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"baseUrl":"https://api.shopbop.com","root":"categories","tree":{"Upper":{"Coats":["Clothing/Coats"],"Dresses":["Clothing/Dresses"],"Jackets":["Clothing/Jackets"],"Jumpsuits & Rompers":["Clothing/Jumpsuits & Rompers"],"Sweaters & Knits":["Clothing/Sweaters & Knits"],"Swimsuits & Cover-Ups":["Clothing/Swimsuits & Cover-Ups"],"Crop Tops":["Clothing/Tops/Active","Clothing/Tops/Crop Tops","Clothing/Tops/Tank Tops"],"Bodysuits":["Clothing/Tops/Bodysuits","Clothing/Tops/Turtle & Mock Necks"],"Blouses":["Clothing/Tops/Blouses","Clothing/Tops/Button Down Shirts"],"Night Out":["Clothing/Tops/Night Out"],"Sweatshirts & Hoodies":["Clothing/Tops/Sweatshirts & Hoodies"],"Tees":["Clothing/Tops/Graphic Tees","Clothing/Tops/Short Sleeve Tees","Clothing/Tops/Long Sleeve Tees"]},"Lower":{"Jeans":["Clothing/Jeans"],"Pants":["Clothing/Pants"],"Shorts":["Clothing/Shorts"],"Skirts":["Clothing/Skirts"]},"Shoes":{"Boots":["Shoes/Boots"],"Espadrilles":["Shoes/Espadrilles"],"Pumps":["Shoes/Pumps"],"Sandals":["Shoes/Sandals"],"Sneakers & Athletic":["Shoes/Sneakers & Athletic"]},"Bags":{"Backpacks":["Bags/Backpacks"],"Satchels & Top Handles":["Bags/Bucket Bags","Bags/Satchels & Top Handles","Bags/Cross Body Bags","Bags/Totes"],"Belt Bags":["Bags/Belt Bags"],"Mini Bags":["Bags/Clutches","Bags/Mini Bags","Bags/Shoulder Bags"],"Beach & Straw Bags":["Bags/Beach & Straw Bags"],"Luggage & Weekenders":["Bags/Luggage & Weekenders"]},"Accessories":{"Jewelry":["Jewelry & Accessories/Jewelry/Bracelets","Jewelry & Accessories/Jewelry/Earrings","Jewelry & Accessories/Jewelry/Necklaces","Jewelry & Accessories/Jewelry/Rings"],"Watches":["Jewelry & Accessories/Watches"],"Hair Accessories":["Jewelry & Accessories/Hair Accessories"],"Hats":["Jewelry & Accessories/Hats"],"Sunglasses & Eyewear":["Jewelry & Accessories/Sunglasses & Eyewear"],"Winter Accessories":["Jewelry & Accessories/Scarves & Wraps","Jewelry & Accessories/Winter Accessories"]}},"collectionRank":["Upper","Lower","Shoes","Bags","Accessories"]}')},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},75:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s.n(c),a=s(32),n=s.n(a),i=(s(40),s(9)),o=s(7),l=Object(c.createContext)(),d=s(3),u=s(4),j=s(10),h=s(6),b=s(5),p=s(8),m=(s(41),s(2)),O=s.n(m),v=(s(42),s(0)),f=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("Navbar",this.props.className),children:this.props.children})}}]),s}(r.a.Component),x=(s(44),s.p+"static/media/chevron_left_24px_outlined.3148fa43.svg"),g=s.p+"static/media/chevron_right_24px_outlined.27c72064.svg",N=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var c;return Object(d.a)(this,s),(c=t.call(this,e)).leftScroller=r.a.createRef(),c.rightScroller=r.a.createRef(),c.menu=r.a.createRef(),c.handleScroll=c.handleScroll.bind(Object(j.a)(c)),c}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.handleScroll()}},{key:"componentDidUpdate",value:function(e,t,s){this.menu.current.scrollLeft=0,this.handleScroll()}},{key:"handleScroll",value:function(){var e=this.menu.current,t=e.scrollLeft,s=t>0,c=t<e.scrollWidth-e.clientWidth;this.leftScroller.current.style.visibility=s?"visible":"hidden",this.rightScroller.current.style.visibility=c?"visible":"hidden"}},{key:"handleItemClick",value:function(e){e.target.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:O()("NavScroller",this.props.className),children:[Object(v.jsx)("div",{className:"left-chevron chevron",ref:this.leftScroller,children:Object(v.jsx)("img",{src:x,alt:"Scroll left"})}),Object(v.jsx)("div",{className:"menu-items",onScroll:this.handleScroll,ref:this.menu,children:this.props.children.map((function(t){return Object(v.jsx)("div",{className:"menu-item",onClick:e.handleItemClick,children:t})}))}),Object(v.jsx)("div",{className:"right-chevron chevron",ref:this.rightScroller,children:Object(v.jsx)("img",{src:g,alt:"Scroll left"})})]})}}]),s}(r.a.Component),S=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("NavBrand",this.props.className),children:Object(v.jsx)(i.b,{to:"/",children:this.props.children})})}}]),s}(r.a.Component),k=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("NavGroup",this.props.className),children:this.props.children})}}]),s}(r.a.Component),y=s.p+"static/media/Corderoy.47e508ea.svg",C=s.p+"static/media/arrow_downward_ios_24px_outlined.06bdfbfa.svg",w=s.p+"static/media/layered-waves-haikei.d236f301.svg";function P(e){var t=Object(c.useState)(0),s=Object(p.a)(t,2),r=s[0],a=s[1],n=Object(o.h)(),l=function(e){a(e.target.scrollingElement.scrollTop)};return Object(c.useEffect)((function(){return window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}}),[]),Object(v.jsxs)("div",{className:O()("Landing",e.className),children:[Object(v.jsxs)(f,{className:"landing-nav",children:[Object(v.jsx)(k,{children:Object(v.jsx)(i.b,{to:"/",children:"About"})}),Object(v.jsx)(k,{children:Object(v.jsx)(i.b,{to:"/wardrobe",children:"Create outfit"})})]}),Object(v.jsxs)("div",{className:"landing-content",children:[Object(v.jsx)(i.b,{to:"/",children:Object(v.jsx)("img",{src:y,alt:"Corderoy logo"})}),Object(v.jsx)("form",{action:"javascript:void(0);",method:"get",id:"search-form",onSubmit:function(e){n("/posts?q=".concat(encodeURIComponent(e.target.searchbar.value)))},children:Object(v.jsx)("input",{type:"text",name:"searchbar",placeholder:"Search outfits"})})]}),Object(v.jsxs)("div",{className:O()("portal",r&&"portal-hide"),children:[Object(v.jsx)("div",{className:"text",children:"See what's popular"}),Object(v.jsx)("button",{className:"btn",onClick:e.portalOnClick,children:Object(v.jsx)("img",{src:C,alt:"Downward icon"})})]}),Object(v.jsx)("img",{className:"background",src:w,alt:"Waves"})]})}s(45);var T=s(13),B=s.n(T),I=(s(64),s(65),s(66),s(67),function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).content=Object(c.createRef)(),r.slideLeft=r.slideLeft.bind(Object(j.a)(r)),r.slideRight=r.slideRight.bind(Object(j.a)(r)),r.state={currentSlide:0},r}return Object(u.a)(s,[{key:"slideLeft",value:function(){var e=this.state.currentSlide;if(e>0){var t=e-1;this.setState({currentSlide:t}),this.props.updateIndex(t)}}},{key:"slideRight",value:function(){var e=this.state.currentSlide;if(e<this.props.children.length-1){var t=e+1;this.setState({currentSlide:t}),this.props.updateIndex(t)}}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:O()("Carousel",this.props.className),children:[Object(v.jsx)("div",{className:"Carousel-content",ref:this.content,style:{transform:"translate(-".concat(this.state.currentSlide,"00%)"),transition:"transform 0.5s"},children:this.props.children}),Object(v.jsx)("img",{className:"chevron left-chevron",src:x,alt:"Scroll left",onClick:this.slideLeft}),Object(v.jsx)("img",{className:"chevron right-chevron",src:g,alt:"Scroll left",onClick:this.slideRight})]})}}]),s}(r.a.Component));I.defaultProps={updateIndex:function(){}};var D=Object(c.createContext)(),L=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var c;return Object(d.a)(this,s),(c=t.call(this,e)).handleSlide=c.handleSlide.bind(Object(j.a)(c)),c.state={orderedItems:[],currentItem:null},c}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.context;console.log(t),console.log("items",this.props.items);var s=t.collectionRank.map((function(t){return e.props.items[t]})).filter((function(e){return Object.keys(e).length})).map((function(e){return Object.values(e)})).flat();console.log("orderedItems",s),this.setState({orderedItems:s,currentItem:s[0]})}},{key:"handleSlide",value:function(e){this.setState({currentItem:this.state.orderedItems[e]})}},{key:"render",value:function(){return this.state.orderedItems.length?Object(v.jsxs)("div",{className:O()("PostItems",this.props.className),children:[Object(v.jsx)(I,{className:"PostItems-carousel",updateIndex:this.handleSlide,children:this.state.orderedItems.map((function(e){return Object(v.jsx)("img",{src:"https://m.media-amazon.com/images/G/01/Shopbop/p".concat(e.product.colors[e.color].images[0].src),alt:e.product.shortDescription})}))}),Object(v.jsxs)("div",{className:"PostItems-item-detail",children:[Object(v.jsx)("div",{className:"PostItems-item-name",children:this.state.currentItem.product.shortDescription}),Object(v.jsxs)("div",{className:"PostItems-item-detail-bot",children:[Object(v.jsx)("div",{className:"PostItems-item-designer",children:this.state.currentItem.product.designerName}),Object(v.jsx)("div",{className:"PostItems-item-price",children:this.state.currentItem.product.retailPrice.price})]}),Object(v.jsx)("a",{className:"PostItems-item-store-link",href:"https://shopbop.com".concat(this.state.currentItem.product.productDetailUrl),children:"See store page"})]})]}):null}}]),s}(r.a.Component);L.contextType=D;var A=s(14),U=(s(68),s(33)),J=s.n(U),R=s(34),M=s.p+"static/media/favorite_border_24px_outlined.7e399108.svg",_=s.p+"static/media/favorite_24px_outlined.eeca05fb.svg",E=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var c;return Object(d.a)(this,s),(c=t.call(this,e)).handleLike=c.handleLike.bind(Object(j.a)(c)),c.state={post:e.post},c}return Object(u.a)(s,[{key:"formatDate",value:function(e){var t=new Date(e);return J()(t).fromNow().toString()}},{key:"formatDescription",value:function(e){return Object(v.jsx)(R.a,{renderHashtag:function(e){return Object(v.jsx)(i.b,{to:"/posts?q=".concat(encodeURIComponent(e)),children:e})},children:e})}},{key:"getTotalPrice",value:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Object.values(e).map((function(e){return Object.values(e)})).flat().map((function(e){return e.product.retailPrice.usdPrice})).reduce((function(e,t){return e+t}),0))}},{key:"handleLike",value:function(e){var t=e.currentTarget.children[0],s=Object(A.a)({},this.state.post),c=JSON.parse(localStorage.getItem("likedPosts")),r=c.indexOf(s.id),a="";r>-1?(t.classList.remove("like-btn-liked"),c.splice(r,1),s.likes-=1,a="unlike"):(t.classList.add("like-btn-liked"),c.push(s.id),s.likes+=1,a="like"),a="/api/".concat(a,"?outfit-id=").concat(s.id),B.a.post(a).then((function(e){return console.log(e.data)})),localStorage.setItem("likedPosts",JSON.stringify(c)),this.setState({post:s})}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("likedPosts")).includes(this.state.post.id);return Object(v.jsxs)("div",{className:O()("PostDetail",this.props.className),children:[Object(v.jsx)("h2",{className:"PostDetail-title",children:this.state.post.title}),Object(v.jsx)("h5",{className:"PostDetail-date",children:this.formatDate(this.state.post.date)}),Object(v.jsx)("div",{className:"PostDetail-actions",children:Object(v.jsxs)("div",{className:"PostDetail-actions-like",children:[Object(v.jsx)("button",{className:"like-btn",onClick:this.handleLike,children:Object(v.jsx)("img",{src:e?_:M,alt:"Like"})}),Object(v.jsx)("span",{className:"like-count",children:this.state.post.likes})]})}),Object(v.jsxs)("div",{className:"PostDetail-price",children:["TOTAL: ",this.getTotalPrice(this.props.post.products)]}),Object(v.jsx)("div",{className:"PostDetail-desc",children:this.formatDescription(this.props.post.desc)})]})}}]),s}(r.a.Component),H=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:O()("Post",this.props.className),children:[Object(v.jsx)(L,{items:this.props.post.products}),Object(v.jsx)(E,{post:this.props.post})]})}}]),s}(r.a.Component),W=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("PostCatalog",this.props.className),children:this.props.posts.map((function(e){return Object(v.jsx)(H,{post:e})}))})}}]),s}(r.a.Component),z=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var c;return Object(d.a)(this,s),(c=t.call(this,e)).state={posts:[]},c}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;B.a.get("/api/trending").then((function(t){e.setState({posts:t.data})}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:O()("Trending",this.props.className),children:[Object(v.jsx)("h1",{children:"Trending"}),Object(v.jsx)(W,{posts:this.state.posts})]})}}]),s}(r.a.Component),F=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var r;return Object(d.a)(this,s),(r=t.call(this,e)).trending=Object(c.createRef)(),r.handlePortal=r.handlePortal.bind(Object(j.a)(r)),r}return Object(u.a)(s,[{key:"handlePortal",value:function(e){this.trending.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"Home page",children:[Object(v.jsx)(P,{portalOnClick:this.handlePortal}),Object(v.jsx)("div",{ref:this.trending,children:Object(v.jsx)(z,{})})]})}}]),s}(r.a.Component),G=(s(70),s.p+"static/media/search_24px_outlined.0c37f037.svg");function q(e){var t=Object(i.c)(),s=Object(p.a)(t,2),r=s[0],a=(s[1],Object(c.useState)([])),n=Object(p.a)(a,2),l=n[0],d=n[1],u=r.get("q"),j=r.get("sort"),h=Object(o.h)();return Object(c.useEffect)((function(){B.a.get("/api/outfits?q=".concat(encodeURIComponent(u),"&sort=").concat(j||"likes")).then((function(e){d(e.data)}))}),[u,j]),Object(v.jsxs)("div",{className:O()("Feed",e.className),children:[Object(v.jsxs)(f,{className:"feed-nav",children:[Object(v.jsx)(k,{children:Object(v.jsx)(S,{children:Object(v.jsx)("img",{src:y,alt:"Corderoy"})})}),Object(v.jsx)(k,{className:"menu",children:Object(v.jsx)(i.b,{to:"/wardrobe",children:"Create outfit"})})]}),Object(v.jsx)("h1",{className:"search-title",children:u}),Object(v.jsx)("div",{className:"filter",children:Object(v.jsxs)("form",{action:"javascript:void(0);",method:"get",id:"filter-form",onSubmit:function(e){h("/posts?q=".concat(encodeURIComponent(e.target.searchbar.value),"&sort=").concat(e.target.sort.value))},children:[Object(v.jsxs)("select",{name:"sort",form:"filter-form",children:[Object(v.jsx)("option",{value:"likes",children:"Sort by"}),Object(v.jsx)("option",{value:"likes",children:"Likes"}),Object(v.jsx)("option",{value:"price",children:"Price"}),Object(v.jsx)("option",{value:"date",children:"Date"})]}),Object(v.jsx)("input",{type:"text",name:"searchbar",placeholder:"Search Outfits"}),Object(v.jsx)("button",{type:"submit",children:Object(v.jsx)("img",{src:G,alt:"Search icon"})})]})}),Object(v.jsx)(W,{posts:l})]})}s(71);var Y=s(20),K=(s(72),function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var c;return Object(d.a)(this,s),(c=t.call(this,e)).partsMenu=[],c.state={part:null,collections:[]},c}return Object(u.a)(s,[{key:"handleMenuPartClick",value:function(e,t){var s,c=Object(Y.a)(this.partsMenu);try{for(c.s();!(s=c.n()).done;){s.value.classList.remove("wardrobe-menu-part-select")}}catch(n){c.e(n)}finally{c.f()}if(e===this.state.part)return this.partsMenu[t].classList.remove("wardrobe-menu-part-select"),void this.setState({part:null,collections:[]});var r=this.context,a=Object.fromEntries(Object.entries(r.tree).map((function(e){var t=Object(p.a)(e,2),s=t[0],c=t[1];return[s,Object.keys(c)]})))[e].map((function(e){return Object(v.jsx)(i.b,{to:"/wardrobe/".concat(e),children:e})}));this.partsMenu[t].classList.add("wardrobe-menu-part-select"),this.setState({part:e,collections:a})}},{key:"render",value:function(){var e=this,t=this.context;if(!t.tree)return null;var s=Object.fromEntries(Object.entries(t.tree).map((function(e){var t=Object(p.a)(e,2),s=t[0],c=t[1];return[s,Object.keys(c)]})));return Object(v.jsx)("div",{className:O()("Navigation",this.props.className),children:Object(v.jsxs)(f,{className:"wardrobe-nav",children:[Object(v.jsx)(S,{className:"wardrobe-navbrand",children:Object(v.jsx)("img",{src:y,alt:"Corderoy"})}),Object(v.jsxs)(k,{className:"wardrobe-menu",children:[Object(v.jsx)("div",{className:"wardrobe-menu-parts",children:Object.keys(s).map((function(t,s){return Object(v.jsx)("div",{className:"wardrobe-menu-part",onClick:function(){return e.handleMenuPartClick(t,s)},ref:function(t){return e.partsMenu[s]=t},children:t},s)}))}),Object(v.jsx)("div",{className:"wardrobe-menu-collections",children:Object(v.jsx)(N,{className:"wardrobe-menu-scroll",children:this.state.collections})})]})]})})}}]),s}(r.a.Component));K.contextType=D;s(73),s(74);var V=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("Card",this.props.className),onClick:this.props.onClick,children:this.props.children})}}]),s}(r.a.Component),Q=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("CardTitle",this.props.className),children:this.props.children})}}]),s}(r.a.Component),X=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("CardBody",this.props.className),children:this.props.children})}}]),s}(r.a.Component),Z=(s(75),function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("CardImg",this.props.className),children:Object(v.jsx)("img",{src:this.props.src,alt:this.props.alt})})}}]),s}(r.a.Component));function $(e){return Object(v.jsxs)("div",{className:O()("Preview",e.className),children:[Object(v.jsx)("h2",{children:"Your outfit selection"}),Object(v.jsx)(l.Consumer,{children:function(t){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"list",style:{maxHeight:e.maxHeight},children:Object.entries(t.items).map((function(e){var s=Object(p.a)(e,2),c=s[0],r=s[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"part-header",children:Object(v.jsx)("h5",{children:c})}),Object(v.jsx)("div",{className:"items",children:0===Object.keys(r).length?Object(v.jsx)("p",{style:{fontStyle:"italic"},children:"Empty"}):Object.entries(r).map((function(e){var s=Object(p.a)(e,2),c=(s[0],s[1]);return Object(v.jsxs)("div",{className:"item",children:[Object(v.jsx)(V,{className:"item-card",onClick:function(){return t.remove(c)},children:Object(v.jsx)(Z,{src:"https://m.media-amazon.com/images/G/01/Shopbop/p".concat(c.product.colors[c.color].images[0].src),alt:c.product.shortDescription})}),Object(v.jsxs)("div",{className:"item-label",children:[Object(v.jsx)("div",{children:c.product.designerName}),Object(v.jsx)("div",{children:c.product.retailPrice.price})]})]})}))})]})}))}),Object(v.jsx)(i.b,{className:O()("link",!t.size()&&"link-disabled"),to:"/share",children:Object(v.jsx)("div",{className:"proceed-btn",children:"Proceed to share"})})]})}})]})}var ee=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"Wardrobe page",children:[Object(v.jsx)(K,{}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("div",{className:"cart-wrapper",children:Object(v.jsx)($,{className:"cart",maxHeight:"70vh"})}),Object(v.jsx)(o.b,{})]})]})}}]),s}(r.a.Component),te=(s(76),s(77),function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var c;return Object(d.a)(this,s),(c=t.call(this,e)).handleClick=c.handleClick.bind(Object(j.a)(c)),c.background=r.a.createRef(),c}return Object(u.a)(s,[{key:"handleClick",value:function(e){var t=this.props.show,s=e.target;t&&s===this.background.current&&(s.classList.toggle("Modal-show"),this.props.setShow(!1))}},{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("Modal",this.props.className,this.props.show&&"Modal-show"),onClick:this.handleClick,ref:this.background,children:this.props.children})}}]),s}(r.a.Component));function se(e){var t=Object(o.i)().collection,s=Object(c.useState)([]),r=Object(p.a)(s,2),a=r[0],n=r[1],i=Object(c.useState)(!1),d=Object(p.a)(i,2),u=d[0],j=d[1],h=Object(c.useState)({}),b=Object(p.a)(h,2),m=b[0],f=b[1],x=Object(c.useState)(0),g=Object(p.a)(x,2),N=g[0],S=g[1],k=Object(c.useRef)();Object(c.useEffect)((function(){B.a.get("/api/products?collection=".concat(encodeURIComponent(t))).then((function(e){n(e.data)}))}),[t]);return Object(v.jsx)(l.Consumer,{children:function(s){return Object(v.jsxs)("div",{className:O()("Catalog",e.className),children:[Object(v.jsx)("div",{className:"title",children:Object(v.jsx)("h1",{children:t})}),Object(v.jsx)("div",{className:"filter"}),Object(v.jsx)("div",{className:"cards",children:a.map((function(e){return Object(v.jsxs)(V,{className:"card",onClick:function(){return t=e,S(N+1),f(t),void j(!0);var t},children:[Object(v.jsx)(Z,{className:"card-img",src:"https://m.media-amazon.com/images/G/01/Shopbop/p".concat(e.product.colors[e.color].images[0].src),alt:e.product.shortDescription}),Object(v.jsxs)("div",{className:"card-annotation",children:[Object(v.jsx)(Q,{className:"card-title",children:e.product.shortDescription}),Object(v.jsxs)(X,{className:"card-annotation-body",children:[Object(v.jsx)("div",{className:"desc",children:e.product.designerName}),Object(v.jsx)("div",{className:"price-tag",children:e.product.retailPrice.price})]})]})]})}))}),Object.keys(m).length?Object(v.jsx)(te,{className:"item-detail-modal",ref:k,show:u,setShow:j,children:Object(v.jsxs)("div",{className:"item-modal",children:[Object(v.jsx)("div",{className:"item-modal-images",children:Object(v.jsx)(I,{className:"item-modal-carousel",children:m.product.colors[m.color].images.map((function(e){return Object(v.jsx)("img",{src:"https://m.media-amazon.com/images/G/01/Shopbop/p".concat(e.src),alt:m.product.shortDescription})}))},N)}),Object(v.jsxs)("div",{className:"item-modal-info",children:[Object(v.jsxs)("div",{className:"item-modal-info-top",children:[Object(v.jsx)("h3",{className:"item-title",children:m.product.shortDescription}),Object(v.jsx)("h5",{className:"item-subtitle",children:m.product.designerName}),Object(v.jsx)("div",{className:"item-modal-info-price",children:m.product.retailPrice.price}),Object(v.jsx)("div",{className:"item-modal-info-colors",children:m.product.colors.map((function(e,t){return Object(v.jsx)("button",{className:O()("item-modal-info-swatch",m.color==t&&"item-modal-info-swatch-select"),onClick:function(){var e=Object(A.a)({},m);e.color=t,S(N+1),f(e)},children:Object(v.jsx)("div",{className:"item-modal-info-swatch-wrapper",children:Object(v.jsx)("img",{src:"https://m.media-amazon.com/images/G/01/Shopbop/p".concat(e.swatch.src),alt:e.name})})})}))})]}),Object(v.jsxs)("div",{className:"item-modal-info-bot",children:[Object(v.jsx)("button",{className:O()("item-modal-info-add-btn",s.contains(m)&&"item-modal-info-add-btn-disabled"),onClick:function(){return s.add(m)},children:"Add to outfit"}),Object(v.jsx)("a",{className:"item-modal-info-store-link",href:"https://shopbop.com".concat(m.product.productDetailUrl),children:"See store page"})]})]})]})}):""]})}})}s(78),s(79);var ce=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{className:O()("Navigation",this.props.className),children:Object(v.jsxs)(f,{children:[Object(v.jsx)(S,{children:Object(v.jsx)("img",{src:y,alt:"Corderoy"})}),Object(v.jsx)(k,{className:"share-menu",children:Object(v.jsx)(i.b,{to:"/wardrobe",children:"Return to wardrobe"})})]})})}}]),s}(r.a.Component),re=s(22),ae=s.n(re),ne=s(35),ie=s(17),oe=(s(81),function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(e){var c;return Object(d.a)(this,s),(c=t.call(this,e)).handleSubmit=c.handleSubmit.bind(Object(j.a)(c)),c.state={redirect:null,titleInput:""},c}return Object(u.a)(s,[{key:"parseThemes",value:function(e){return Object(ie.a)(e.matchAll("#[\\w]+")).map((function(e){return e[0]}))}},{key:"handleSubmit",value:function(){var e=Object(ne.a)(ae.a.mark((function e(t,s){var c,r,a,n=this;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Date,r=[String(c.getUTCFullYear()).padStart(4,"0"),String(c.getUTCMonth()+1).padStart(2,"0"),String(c.getUTCDate()).padStart(2,"0")].join("-")+" "+[String(c.getUTCHours()).padStart(2,"0"),String(c.getUTCMinutes()).padStart(2,"0"),String(c.getUTCSeconds()).padStart(2,"0")].join(":"),a={title:t.target.title.value,desc:t.target.desc.value,date:r,price:s.totalPrice(),likes:0,themes:this.parseThemes(t.target.desc.value),designers:s.designers(),collections:s.collections(),parts:s.parts(),products:s.items,comments:[]},e.next=5,B.a.post("/api/outfit",a).then((function(e){n.setState({redirect:"/"})}));case 5:s.clear();case 6:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.redirect){var t=this.state.redirect;return this.setState({redirect:null}),Object(v.jsx)(o.a,{to:t,push:!0})}var s=this.context;return Object(v.jsx)("div",{className:O()("Cart",this.props.className),children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"items-preview",children:Object.entries(s.items).filter((function(e){var t=Object(p.a)(e,2),s=(t[0],t[1]);return Object.keys(s).length})).map((function(e){var t=Object(p.a)(e,2),s=t[0],c=t[1];return Object(v.jsxs)("div",{className:"items-part",children:[Object(v.jsx)("h3",{children:s}),Object(v.jsx)("div",{className:"items-container",children:Object.values(c).map((function(e){return Object(v.jsxs)("div",{className:"item",children:[Object(v.jsxs)("div",{className:"left-col",children:[Object(v.jsx)(V,{className:"item-card",children:Object(v.jsx)(Z,{src:"https://m.media-amazon.com/images/G/01/Shopbop/p".concat(e.product.colors[e.color].images[0].src),alt:e.product.shortDescription})}),Object(v.jsxs)("div",{className:"item-label",children:[Object(v.jsx)("div",{className:"desc",children:e.product.shortDescription}),Object(v.jsx)("div",{className:"name",children:e.product.designerName})]})]}),Object(v.jsx)("div",{className:"right-col",children:Object(v.jsx)("div",{className:"price",children:e.product.retailPrice.price})})]})}))})]})}))}),Object(v.jsx)("form",{action:"javascript:void(0);",method:"post",id:"share-form",onSubmit:function(t){return e.handleSubmit(t,s)},children:Object(v.jsxs)("div",{className:"share-bar",children:[Object(v.jsxs)("div",{className:"top",children:[Object(v.jsx)("input",{type:"text",name:"title",placeholder:"Title",onInput:function(t){return e.setState({titleInput:t.target.value})}}),Object(v.jsx)("hr",{}),Object(v.jsx)("textarea",{name:"desc",placeholder:"Description"})]}),Object(v.jsxs)("div",{className:"bottom",children:[Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"total",children:["TOTAL: ",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s.totalPrice())]}),Object(v.jsx)("button",{disabled:!s.size()||!this.state.titleInput,type:"submit",form:"share-form",value:"Share",children:"Share"})]})]})})]})})}}]),s}(r.a.Component));oe.contextType=l;var le=function(e){Object(h.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"Share page",children:[Object(v.jsx)(ce,{}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("div",{className:"title",children:Object(v.jsx)("h1",{children:"Your outfit selection"})}),Object(v.jsx)(oe,{})]})]})}}]),s}(r.a.Component);var de=s(23);var ue=function(){var e=function(){var e=Object(c.useState)({Upper:{},Lower:{},Shoes:{},Bags:{},Accessories:{}}),t=Object(p.a)(e,2),s=t[0],r=t[1];return{items:s,add:function(e){var t=e.part,c=e.product,a=Object(A.a)({},s);switch(t){case"Upper":a.Upper[c.productCode]=e;break;case"Lower":a.Lower[c.productCode]=e;break;case"Shoes":a.Shoes[c.productCode]=e;break;case"Bags":a.Bags[c.productCode]=e;break;case"Accessories":a.Accessories[c.productCode]=e;break;default:return}r(a)},remove:function(e){var t=e.part,c=e.product,a=Object(A.a)({},s);switch(t){case"Upper":delete a.Upper[c.productCode];break;case"Lower":delete a.Lower[c.productCode];break;case"Shoes":delete a.Shoes[c.productCode];break;case"Bags":delete a.Bags[c.productCode];break;case"Accessories":delete a.Accessories[c.productCode];break;default:return}r(a)},size:function(){return Object.entries(s).map((function(e){var t=Object(p.a)(e,2),s=(t[0],t[1]);return Object.keys(s).length})).reduce((function(e,t){return e+t}),0)},contains:function(e){var t=e.part;return e.product.productCode in s[t]},clear:function(){r({Upper:{},Lower:{},Shoes:{},Bags:{},Accessories:{}})},totalPrice:function(){return Object.values(s).map((function(e){return Object.values(e)})).flat().map((function(e){return e.product.retailPrice.usdPrice})).reduce((function(e,t){return e+t}),0)},parts:function(){return Object.entries(s).filter((function(e){var t=Object(p.a)(e,2),s=(t[0],t[1]);return Object.keys(s).length})).map((function(e){var t=Object(p.a)(e,2),s=t[0];return t[1],s}))},collections:function(){return Object(ie.a)(new Set(Object.values(s).map((function(e){return Object.values(e)})).flat().map((function(e){return e.collection}))))},designers:function(){return Object(ie.a)(new Set(Object.values(s).map((function(e){return Object.values(e)})).flat().map((function(e){return e.product.designerName}))))}}}(),t={tree:de.tree,collectionRank:de.collectionRank};return localStorage.getItem("likedPosts")||localStorage.setItem("likedPosts",JSON.stringify([])),Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(D.Provider,{value:t,children:Object(v.jsx)(l.Provider,{value:e,children:Object(v.jsx)(i.a,{children:Object(v.jsxs)(o.e,{children:[Object(v.jsx)(o.c,{path:"/",exact:!0,element:Object(v.jsx)(F,{})}),Object(v.jsx)(o.c,{path:"/posts",element:Object(v.jsx)(q,{})}),Object(v.jsx)(o.c,{path:"/wardrobe",element:Object(v.jsx)(ee,{}),children:Object(v.jsx)(o.c,{path:":collection",element:Object(v.jsx)(se,{})})}),Object(v.jsx)(o.c,{path:"/share",element:Object(v.jsx)(le,{})})]})})})})})},je=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,83)).then((function(t){var s=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,n=t.getTTFB;s(e),c(e),r(e),a(e),n(e)}))};n.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(ue,{})}),document.getElementById("root")),je()}},[[82,1,2]]]);
//# sourceMappingURL=main.01ea3146.chunk.js.map